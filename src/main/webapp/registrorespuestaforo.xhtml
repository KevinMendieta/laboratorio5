<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head></h:head>
    <h:body>
        <h:form id="form" rendered="#{registroForoBean.puedeMostrar()}">
            <p:dataTable id="tablaComentarios" var="comentarios" value="#{registroForoBean.comentariosEntrada}">                
                <f:facet name="header">
                    #{registroForoBean.selecc.titulo}
                </f:facet>
                <p:column headerText="Autores">
                    <h:outputText value="#{comentarios.autor.nombre}" />
                </p:column>
                <p:column headerText="Contenidos">
                    <h:outputText value="#{comentarios.contenido}" />
                </p:column>
                <p:column headerText="Fecha">
                    <h:outputText value="#{comentarios.fechayHora}" />
                </p:column>
                <f:facet name="footer">
                    <p:commandButton update=":form" value="Agregar un Comentario" oncomplete="PF('campoEntradaDatos').show()" />
                    <p:commandButton update=":form" value="Regresar" action="registroentradaforo" immediate="true"/>
                </f:facet>
            </p:dataTable>
            <p:dialog header="Datos" widgetVar="campoEntradaDatos" modal="true" showEffect="fade" hideEffect="fade" resizable="false" width="500">
                <p:outputPanel id="inputQuantity" style="text-align:center;">
                    <h:outputText value="Complete sus datos porfavor"/>
                    <h:panelGrid columns="2" cellpadding="1" styleClass="ui-grid">
                        
                        <h:outputLabel for="nombre" value="nombre: " />
                        <h:inputText id="nombre" value="#{registroForoBean.nombreActual}" required="true"/> 
                        
                        <h:outputLabel for="email" value="email: " />
                        <h:inputText id="email" value="#{registroForoBean.emailActual}" required="true"/>
                        
                        <h:outputLabel for="contenido" value="contenido: " />
                        <h:inputText id="contenido" value="#{registroForoBean.contenidoActual}" required="true"/>
                        
                    </h:panelGrid>
                    <p:commandButton update=":form" value="Agregar comentario" actionListener="#{registroForoBean.addRespuesta()}"/>                    
                </p:outputPanel>
            </p:dialog>
        </h:form>
        
        <h:form id="form2" rendered="#{not registroForoBean.puedeMostrar()}">hi</h:form>
    </h:body>
</html>